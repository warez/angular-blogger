"use strict";angular.module("angularBloggerApp",["ngAnimate","ngResource","ngSanitize","ui.bootstrap"]);var config={AUTHOR_CATEGORY_FILTER:["Hobbit","Recensioni","Whishlist","Wednesday!","Songs"]};angular.forEach(config,function(a,b){angular.module("angularBloggerApp").constant(b,a)}),angular.module("angularBloggerApp").constant("BASE_CONFIG",config),angular.module("angularBloggerApp").service("URLHelpers",["CONFIG","BASE_CONFIG",function(a){return{getBlogUrlResource:function(){return a.BLOG_URL+"/"+a.BY_TERM_URL_RESOURCE}}}]);var config={BLOG_URL:"http://oncebookatime.blogspot.it",BY_TERM_URL_RESOURCE:"/feeds/posts/default/-/:term",REVIEW_TERM:"Recensioni",MODE:"PROD"};angular.forEach(config,function(a,b){angular.module("angularBloggerApp").constant(b,a)}),angular.module("angularBloggerApp").constant("CONFIG",config),angular.module("angularBloggerApp").service("ReviewClient",["ByTermService","REVIEW_TERM",function(a,b){return{loadReview:function(){return a.loadData({term:b})}}}]),angular.module("angularBloggerApp").service("ByTermService",["$resource","URLHelpers",function(a,b){var c=a(b.getBlogUrlResource(),{},{loadData:{method:"GET",params:{alt:"json","max-results":"999999"},isArray:!1}});return c}]),angular.module("angularBloggerApp").directive("listReview",[],function(){$scope.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("angularBloggerApp").filter("groupBy",["$parse",function(a){return function(b,c){var d=[],e=null,f=!1,g="group_by_CHANGED";return angular.forEach(b,function(b){if(f=!1,null!==e){c=angular.isArray(c)?c:[c];for(var h=0,i=c.length;i>h;h++)a(c[h])(e)!==a(c[h])(b)&&(f=!0)}else f=!0;b[g]=f?!0:!1,d.push(b),e=b}),d}}]),angular.module("angularBloggerApp").controller("MainCtrl",["$scope","ReviewClient","BASE_CONFIG",function(a,b,c){function d(a){for(var b=0;b<a.link.length;b++)if("alternate"==a.link[b].rel){var c=a.link[b].href;return c}return""}function e(a){var b=a.category.map(function(a){return a.term});return b=b.filter(function(a){return c.AUTHOR_CATEGORY_FILTER.indexOf(a)<0}),b[0]}function f(a,b){var c=a.toLowerCase().indexOf(b.toLowerCase());return-1!==c&&(a=a.substr(0,c-1)+a.substr(c+b.length+1)),a=a.trim(),a=a.replace("-","")}a.predicate="author",a.posts=[],a.readPost=function(b){for(var c=[],g=0;g<b.feed.entry.length;g++){var h=b.feed.entry[g],i=e(h),j=d(h),k=f(h.title.$t,i),l={url:j,title:k,author:i};c.push(l)}a.posts=c},b.loadReview().$promise.then(a.readPost)}]);